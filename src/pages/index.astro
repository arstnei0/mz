---
import DashboardPage from '~/components/page/Dashboard'
import Layout from '~/layouts/Layout.astro';
import { getSession, requireSession } from "./api/auth/[...auth]";

const session = await getSession(Astro.request)
if (!session?.user) return Astro.redirect('/auth/login')
---

<Layout title="Dashboard">

<DashboardPage user={session?.user} client:load />
</Layout>
